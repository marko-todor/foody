<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title> Foody - Restaurants </title>

  <!-- Bootstrap core CSS -->
  <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

  <link href="../css/stylesheet-foody.css" rel="stylesheet">


</head>

<body onload = "load()">

  <!-- Navigation -->
  <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-danger fixed-top">
    <div class="container">
      <a class="navbar-brand" href="../index-eng.html"><img id="logo" src="../images/logo_transparent.png"> Foody </a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon "></span>
      </button>
      <div class="collapse navbar-collapse text-center" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="about.html">About us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="my-orders.html">Orders</a>
          </li>         
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             Restaurants
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="stari-grad.html"> Old city </a>
              <a class="dropdown-item" href="dorcol.html"> Dorcol </a>
              <a class="dropdown-item" href="vracar.html"> Vracar </a>
              <a class="dropdown-item" href="zvezdara.html"> Zvezdara </a>
            </div>
          </li>
          <li class="nav-item" id = "loginText">
            
          </li>
        </ul>
		<a href="../pages/restaurants.html"><img src="../images/serbian.png" style="width:60px; height:30px;"></a>
      </div>
    </div>
  </nav>



  <!-- Page Content -->
  <div class="container">
    <br>
    <div class="row my-4">
      <div class="col-sm-12">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item" aria-current="page"><a href="../index.html"> Home </a></li>
            <li class="breadcrumb-item active" aria-current="page"><a href="#"> Restaurants </a></li>
          </ol>
        </nav>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <form name="sortingForm" onsubmit="return sortRestaurants();">
          <h1> Restaurants </h1>
          <br>
          <select id="sortParameter">
            <optgroup label="Naziv">
              <option>Name/Ascending</option>
              <option>Name/Descending</option>
            </optgroup>
            <optgroup label="Ocena">
              <option>Rating/Ascending</option>
              <option>Rating/Descending</option>
            </optgroup>
            <optgroup label="Cena">
              <option>Price range/Ascending</option>
              <option>Price range/Descending</option>
            </optgroup>
            
          </select>
          &nbsp;
          <button type="submit" class="btn btn-sm btn-outline-danger" onclick = sortRestaurants()>Sort &nbsp;<i class="fa fa-sort-amount-asc"></i></button>
        </form>
        <hr>
      </div>
    </div>
  </div>
  
  <div class="container mt-5 container" id="content">
    
    
  </div>


</div>


<!-- Footer -->
<footer class="footer mt-5 pt-4">
  <div class="container ">
    <div class="row text-center text-xs-center text-sm-left text-md-left">
      <div class="col-xs-12 col-sm-2 offset-sm-2">
        <h5 class="text-white">Contact</h5>
        <ul class="list-unstyled quick-links">
          <li><a href="about.html"><i class="fa"></i>About us</a></li>
        </ul>
      </div>
      <div class="col-xs-12 col-sm-2 offset-sm-1">
        <h5 class="text-white">Content</h5>
        <ul class="list-unstyled quick-links">
          <li><a href="restaurants.html"><i class="fa"></i>Restaurants</a></li>
        </ul>
      </div>
      <div class="col-xs-12 col-sm-2 offset-sm-1">
        <h5 class="text-white">Profile</h5>
        <ul class="list-unstyled quick-links">
          <li><a href="my-orders.html"><i class="fa"></i>My orders</a></li>
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-5">
        <ul class="list-unstyled list-inline social text-center">
          <li class="list-inline-item faa"><a href="https://www.facebook.com"><i class="fab fa-facebook-square"></i></a></li>
          <li class="list-inline-item faa"><a href="https://www.twitter.com"><i class="fab fa-twitter"></i></a></li>
          <li class="list-inline-item faa"><a href="https://www.instagram.com"><i class="fab fa-instagram"></i></a></li>
          <li class="list-inline-item faa"><a href="https://www.google.com"><i class="fab fa-google-plus"></i></a></li>
          <li class="list-inline-item faa"><a href="https://www.envelope.com" target="_blank"><i class="fa fa-envelope"></i></a></li>
        </ul>
      </div>
    </hr>
  </div>  
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-2 text-center text-white">
      <hr style="background-color:white;">
      <p>Copyright 2019, Ana Dimitrijević Marko Todorović, School of Electrical Engineering, University of Belgrade, Serbia</p>
    </div>
    
  </div>  
</div>
</footer>


<!-- Bootstrap core JavaScript -->
<script src="../vendor/jquery/jquery.min.js"></script>
<script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="../js/foody.js"></script>

<script language = "javascript">



  function initialize() {
    
	
    restaurants = ['manufaktura', 'madera','toro'];
    prices = ['$$', '$$$', '$$'];
    grades = [4.8, 4.77, 4.8];
    htmlText = new Array();
    
    htmlText[0] = "<div class='row'><div class='col-lg-4'><a href= 'manufaktura.html'><img class='img-fluid' src='../images/top-manufaktura.jpg'></a><br><br></div><div class='col-lg-8'><div class='card' style='100%'><div class='card-body'><h5 class='card-title'><a href='manufaktura.html'> Manufaktura </a></h5></div><ul class='list-group list-group-flush'><li class='list-group-item'>Opština: Stari grad<br></li><li class='list-group-item'>Ocena: 4.8<br></li><li class='list-group-item'>Tip kuhinje: Tradicionalna<br></li><li class='list-group-item'>Cena: $$<br></li></ul></div>        </div></div>"

    htmlText[1] = "<div class='row'> <div class='col-lg-4'> <a href= 'madera.html'> <img class='img-fluid' src='../images/top-madera.jpg'> </a> <br><br> </div> <div class='col-lg-8'> <div class='card' style='100%'> <div class='card-body'> <h5 class='card-title'><a href='madera.html'> Madera </a></h5> </div> <ul class='list-group list-group-flush'> <li class='list-group-item'>Opština: Zvezdara<br></li> <li class='list-group-item'>Ocena: 4.77<br></li> <li class='list-group-item'>Tip kuhinje: Tradicionalna<br></li> <li class='list-group-item'>Cena: $$$<br></li> </ul> </div> </div> </div>"

    htmlText[2] = "<div class='row'> <div class='col-lg-4'> <a href= 'toro.html'> <img class='img-fluid' src='../images/top-toro.jpg'> </a> <br><br> </div> <div class='col-lg-8'> <div class='card' style='100%'> <div class='card-body'> <h5 class='card-title'><a href='toro.html'> Toro Latin Gastro Bar </a></h5> </div> <ul class='list-group list-group-flush'> <li class='list-group-item'>Opština: Stari grad<br></li> <li class='list-group-item'>Ocena: 4.8<br></li> <li class='list-group-item'>Tip kuhinje: Meksička<br></li> <li class='list-group-item'>Cena: $$<br></li> </ul> </div> </div> </div>"

	localStorage.setItem("loaded", "yes");
	localStorage.setItem("restaurants[0]", restaurants[0]);
	localStorage.setItem("restaurants[1]", restaurants[1]);
	localStorage.setItem("restaurants[2]", restaurants[2]);
	
	localStorage.setItem("prices[0]", prices[0]);
	localStorage.setItem("prices[1]", prices[1]);
	localStorage.setItem("prices[2]", prices[2]);
	
	localStorage.setItem("grades[0]", grades[0]);
	localStorage.setItem("grades[1]", grades[1]);
	localStorage.setItem("grades[2]", grades[2]);
	
	localStorage.setItem("htmlText[0]", htmlText[0]);
	localStorage.setItem("htmlText[1]", htmlText[1]);
	localStorage.setItem("htmlText[2]", htmlText[2]);
  }
  
  function load() {
   
   
   if(localStorage.getItem("loaded") != "yes")initialize();
    var htmlText = [];
	
	htmlText[0] = localStorage.getItem("htmlText[0]");
	htmlText[1] = localStorage.getItem("htmlText[1]");
	htmlText[2] = localStorage.getItem("htmlText[2]");
   //fill();
   var content=document.getElementById("content");
    content.innerHTML="";
    var string="";
    
    for (i=0;i<htmlText.length;i++){
      string = string+htmlText[i];
      string = string+"<br><hr style='border-top: 5px solid #ccc; background: transparent;'>"
    }
    
    content.innerHTML=string;
   if ('localStorage' in window && window.localStorage !== null) {
    if(!localStorage.getItem('user')) {
     document.getElementById('loginText').innerHTML = "<a class='nav-link' href ='login.html'>Uloguj se</a>";
   } else {
     document.getElementById('loginText').innerHTML = "<a class='nav-link' href ='restaurants.html' onclick = 'logout()'>Izloguj se</a>";
   }
 }
}
function logout() {
 localStorage.removeItem('user');
}


function sortRestaurants() {
	var restaurants = [];
	var prices = [];
	var grades = [];
	var htmlText = [];
	
	restaurants[0] = localStorage.getItem("restaurants[0]");
	restaurants[1] = localStorage.getItem("restaurants[1]");
	restaurants[2] = localStorage.getItem("restaurants[2]");
	
	prices[0] = localStorage.getItem("prices[0]");
	prices[1] = localStorage.getItem("prices[1]");
	prices[2] = localStorage.getItem("prices[2]");
	
	grades[0] = localStorage.getItem("grades[0]");
	grades[1] = localStorage.getItem("grades[1]");
	grades[2] = localStorage.getItem("grades[2]");
	
	htmlText[0] = localStorage.getItem("htmlText[0]");
	htmlText[1] = localStorage.getItem("htmlText[1]");
	htmlText[2] = localStorage.getItem("htmlText[2]");

  var name = document.getElementById('sortParameter').value; 
  for (i=0;i<restaurants.length-1;i++){
    for (j=i+1;j<restaurants.length;j++){
      var cond;
      if(name == "Naziv/Rastuće") { cond = restaurants[i].toLowerCase() > restaurants[j].toLowerCase(); }
      if(name == "Naziv/Opadajuće") { cond = restaurants[i].toLowerCase() < restaurants[j].toLowerCase(); }
      if(name == "Ocena/Rastuće") { cond = grades[i] > grades[j]; }
      if(name == "Ocena/Opadajuće") { cond = grades[i] < grades[j]; }
      if(name == "Cena/Rastuće") { cond = prices[i].length > prices[j].length; }
      if(name == "Cena/Opadajuće") { cond = prices[i].length < prices[j].length; }
      if (cond){
        pom=restaurants[i];
        restaurants[i]=restaurants[j];
        restaurants[j]=pom;
        
        pom=prices[i];
        prices[i]=prices[j];
        prices[j]=pom;
        
        pom=grades[i];
        grades[i]=grades[j];
        grades[j]=pom;

        pom=htmlText[i];
        htmlText[i]=htmlText[j];
        htmlText[j]=pom;
      }
    }
  }
  
  var content=document.getElementById("content");
    content.innerHTML="";
    var string="";
    
    for (i=0;i<htmlText.length;i++){
      string = string+htmlText[i];
      string = string+"<br><hr style='border-top: 5px solid #ccc; background: transparent;'>"
    }
    
    content.innerHTML=string;
  //fill();
    //  alert(name);
	localStorage.setItem("restaurants[0]", restaurants[0]);
	localStorage.setItem("restaurants[1]", restaurants[1]);
	localStorage.setItem("restaurants[2]", restaurants[2]);
	
	localStorage.setItem("prices[0]", prices[0]);
	localStorage.setItem("prices[1]", prices[1]);
	localStorage.setItem("prices[2]", prices[2]);
	
	localStorage.setItem("grades[0]", grades[0]);
	localStorage.setItem("grades[1]", grades[1]);
	localStorage.setItem("grades[2]", grades[2]);
	
	localStorage.setItem("htmlText[0]", htmlText[0]);
	localStorage.setItem("htmlText[1]", htmlText[1]);
	localStorage.setItem("htmlText[2]", htmlText[2]);
  }
  function fill(){
    
    var content=document.getElementById("content");
    content.innerHTML="";
    var string="";
    
    for (i=0;i<htmlText.length;i++){
      string = string+htmlText[i];
      string = string+"<br><hr style='border-top: 5px solid #ccc; background: transparent;'>"
    }
    
    content.innerHTML=string;
    
  }
</script>	

</body>

</html>
